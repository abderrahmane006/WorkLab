package message;

import java.net.Socket;
import order.GetMyParameterOrder;
import order.Order;
import tools.Constants;
import tools.IOStreams;
import beansAfrica.MyParameter;

public class GetMyParameter {

	/**
	 * Get the files' descriptions
	 * @return the list of the files' description, as a String
	 */
	
	public static MyParameter getUser(int userGID, MyParameter myInfo) {
		/**
		 * getUser
		 * @param userGID
		 * @param myInfo
		 */

		public static void shareFile( int userGID, MyParameter myInfo){

			/**
			 * Establishes the connection with the TCs and send the file with the share
			 * message.
			 */

			try {
			
				
				/*SHARE FILE */
				/* socket connection to the recipient TCELL */
				Socket socket = new Socket(user.getTCellIP(), MyÂ².getPort());
				/* Creation of the stream */
				IOStreams stream = new IOStreams(socket);

				/* send the share command to the recipient TCELL */
				Command shareFileCommand = new ShareFileCommand(Constants.CMD_SHARE_FILE, fileToShare);
				stream.getOutputStream().writeObject(shareFileCommand);
				int status = stream.getInputStream().readInt();
				Tools.interpretStatus( status );

				stream.close();
				socket.close();

			} catch (Exception ex) {
				ex.printStackTrace();
				System.err.println("recipient TCell is not connected! The file can not be sent!");
			}

		}
	
}
